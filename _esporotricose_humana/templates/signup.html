{% extends 'base1.html' %}

{% block nav %}
<ul class="navbar-nav">
    <li class="nav-item">
        <a href="#" class="nav-link" onclick="goBack()"><i class="bi bi-arrow-left-circle me-1"></i>Voltar</a>
    </li>
</ul>
{% endblock nav %}

{% block content %}
<div class="mt-3">
        <div class="alert alert-primary text-center">
            <h1 class="fs-2">Autocadastro para notificar doenças e agravos</h1>
        </div>
        <div class="container text-center my-4">
            <form method="post">
                {% csrf_token %}
                {% if messages %}
                    <div class="mb-5">
                        {% for message in messages %}
                        <p class="my-1 text-danger">{{message}}</p>
                        {% endfor %}
                    </div>
                {% endif %}
                <div class="row justify-content-center">
                    <div class="col-md-5 mt-3">
                        <label for="username">Nome:</label>
                        <input type="text" class="form-control" id="nome" name="nome" required>
                    </div>
                    <div class="col-md-4 mt-3">
                        <label for="login">Login:</label>
                        <input type="text" class="form-control" id="login" name="login" required>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-3 mt-3">
                        <label for="cpf">CPF:</label>
                        <input type="text" class="form-control cpf" id="cpf" name="cpf" required>
                    </div>
                    <div class="col-md-3 mt-3">
                        <label for="municipio">Município:</label>
                        <select name="municipio" id="municipio" class="form-select" required>
                            {% for municipio in municipios %}
                            <option value="{{municipio.id}}">{{municipio.nome}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-3 mt-3">
                        <label for="telefone">Telefone:</label>
                        <input type="text" class="form-control telefone" id="telefone" name="telefone" required>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-3 mt-3">
                        <label for="password1">Digite a senha:</label>
                        <input type="password" class="form-control" id="password1" name="password1" required>
                    </div>
                    <div class="col-md-5 mt-3">
                        <label for="password2">Confirme a senha:</label>
                        <input type="password" class="form-control" id="password2" name="password2" required>
                    </div>
                </div>
                <div class="mt-2">
                    <input type="checkbox" id="mostrar-senha" onclick="return mostrarSenha(this)">
                    <label for="mostrar-senha">Mostrar senha</label>
                </div>
                <div class="mt-4">
                    <div class="d-grid gap-2 d-md-block">
                        <button class="btn btn-success"><i class="bi bi-check2 me-1"></i>Criar</button>
                    </div>
                </div>
            </form>
        </div>
</div>
<script>
    function mostrarSenha(input){
        if (input.checked == true) {
            document.getElementById('password1').type = "text";
            document.getElementById('password2').type = "text";
        } else {
            document.getElementById('password1').type = "password";
            document.getElementById('password2').type = "password";
        };
    };
</script>
{% endblock content %}