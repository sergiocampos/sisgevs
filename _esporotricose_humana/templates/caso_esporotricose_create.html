{% extends 'base1.html' %}
{% load static %}

{% block head %}
<script src="{% static '_esporotricose_humana/js/via_cep.js' %}" defer></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="{% static 'base/css/virtual-select.min.css' %}" />
<link rel="stylesheet" href="{% static 'base/css/novo-form.css'%}">
{% endblock head %}

{% block content %}
<div class="backTop d-none">
  <span id="textScrollUp">Voltar ao Topo</span>
  <i id="scrollUp" onclick="return window.scrollTo({top:0})" class="bi bi-arrow-up-circle "></i>
</div>
<div class="mt-3">
  <form class="mb-3" name="" id="" enctype="multipart/form-data" action="submit" method="POST" onsubmit="return validaDtPrimeirosSintomas();">{% csrf_token %}
    
    <div class="container card p-3 mb-5">
      <div class="card-header">
        <h1 class="fs-2">Ficha de Notificação de Esporotricose Humana</h1>
      </div>
    
      <div class="row">
        <div class="col">
          <p style="font-size: 72%; background-color: #e6e6e6; padding: 8px;">
    
            <b>CASO SUSPEITO:</b> INDIVÍDUO QUE APRESENTE LESÕES NA PELE, QUE SE INICIAM COMO UMA PEQUENA PÁPULA, QUE PODEM EVOLUIR PARA UMA FORMA ULCERADA, COM OU SEM SECREÇÃO SEROPULENTA, DISPOSTAS OU NÃO EM FILEIRA; COM HISTÓRIA EPIDEMIOLÓGICA DE TRAUMA CUTÂNEO POR MATERIAL DE ORIGEM VEGETAL POTENCIALMENTE CONTAMINADO COM FUNGO OU ARRANHADURA/MORDEDURA POR GATOS OU CONTATO COM FERIDAS DESSES ANIMAIS.
            
          </p>
    
        </div>
      </div>
      <div class="px-2 m-3 mt-0">
        <p class="m-0">(<a style="color: red;">*</a>) Campo obrigatório.</p>
      </div>

      <div id="home_" class="container mb-4">
        <div class="card">
          <div class="card-header">DADOS GERAIS</div>          
          <div class="card-body">
            <div class="row">
    
              <div class="col">
                <div class="form-group"><b>Tipo de Notificação</b>
                  <input class="form-control form-control-sm" type="text" name="tipo_notificacao" placeholder="" value="Individual" readonly>
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Agravo/Doença</b>
                  <input class="form-control form-control-sm" type="text" name="agravo_doenca" placeholder="" value="Esporotricose Humana" readonly>
                </div>              
              </div>
              <div class="col">
                <div class="form-group"><b>Código CID-<input style="border:none; width: 40px; background-color:#f1f1f1" min="0" type="number" id="cid_number" disabled></b>
                  <input class="form-control form-control-sm" type="text" name="codigo_cid" placeholder="" value="B42">
                </div>
              </div>
              
              <div class="col">
                <div class="form-group"><b>Primeiros Sintomas</b><i id="alert_dt_ps" style="color:red">**</i>
                  <input class="form-control form-control-sm" type="date" name="data_primeiros_sintomas" value="" id="dt_primeiros_s" onchange="verificarNotifGeral()" onblur="limitandoData(this)" onclick="limitandoData(this)" required>
                  
                </div>
              </div>
    
              <script>
                dt_primeiros_s.max = new Date().toISOString().split("T")[0];
                
                function limitandoData(datamin){
                  var today = new Date();
                  var datamin = datamin.value;
                  $("#datanotificacao").attr('min', datamin);
                  $("#data_investigacao_id").attr('min', datamin);
                  $("#data_coleta_material_id_1").attr('min', datamin);
                  $("#data_coleta_material_id_2").attr('min', datamin);
                  $("#data_coleta_material_id_3").attr('min', datamin);
                  $("#data_outros_exames_1_id").attr('min', datamin);
                  $("#data_outros_exames_2_id").attr('min', datamin);
                  $("#data_outros_exames_3_id").attr('min', datamin);
                  $("#data_inicio_tratamento_id").attr('min', datamin);
                  $("#data_inicio_tratamento2_id").attr('min', datamin);
                  $("#data_inicio_tratamento3_id").attr('min', datamin);
                  $("#input_internacao").attr('min', datamin);
                  $("#input_d_a").attr('min', datamin);
                  $("#data_obito_evo_id").attr('min', datamin);
                  $("#data_encerramento_id").attr('min', datamin);
                  $("#date2").attr('max', datamin);
    
                }
              </script>
    
              
    
            </div>
    
            <div class="row">
    
              <div class="col">
                <div class="form-group"><b>UF</b>
                    <input class="form-control form-control-sm" type="text" name="uf_notificacao" placeholder="" value="PB" readonly id="estado">
                </div>
              </div>
              <div class="col">
    
                <div class="form-group"><b>Município Notificador</b>
                  <!-- <select class="form-select" name="municipio_notificacao" id="municipio_id" onchange="verificarNotifGeral()"> -->
                  <select class="select-model" name="municipio_notificacao" id="municipio_id" onchange="verificarNotifGeral()" placeholder="Selecione um item" data-search="false" data-silent-initial-value-set="true">
                    <!--
    
                    <option value="" selected disabled><i>Selecionar</i></option>
                    -->
                    <option value="{{user.municipio.id}}"selected>{{user.municipio}}</option>
                    
    
                  </select>
                  
                </div>              
              </div>
              <div class="col">
                <div class="form-group"><b>Código IBGE</b>
                  <b ></b>
                  <input type="text" name="codigo_ibge_dados_gerais" id="ibge_cod_id" class="form-control form-control-sm" value="{{user.municipio.ibge}}" readonly>
                  <!-- <select class="form-select" name="codigo_ibge_dados_gerais" id="ibge_cod_id">
    
                  </select> -->
                </div>
              </div>
    
              <div class="col">
                <div class="form-group"><b>Data de notificação</b><i id="alert_data_notificacao" style="color:red">**</i>
                  <input class="form-control form-control-sm" type="date" name="data_notificacao" id="datanotificacao" value="" onchange="verificarNotifGeral()">
                </div>
              </div>
    
              <script>
                datanotificacao.max = new Date().toISOString().split("T")[0];
                
    
                function removeAlertDadosGerais(){
                  $("#alert_dados_gerais").hide();
                }
    
                function removeAlertNotifIndividual(){
                  $("#alert_notificacao_individual").hide();
                }
    
                function removeAlertDadosResidencial(){
                  $("#alert_notificacao_individual").hide();
                }
              </script>
    
            </div>
    
            <div class="row">
              <div class="col">
                <div class="form-group"><b>Unidade de Saúde  </b><i></i>
                  {% if user.funcao == 'coordenacao_vigilancia_epidemiologica_hospitalar' %}
                  <input class="form-control form-control-sm" type="text" name="unidade_saude" placeholder="" value="{{ unidade_saude_user }}" readonly>                  
                  {% else %}
                  <select class="select-model" name="unidade_saude" id="unidade_saude_id" placeholder="Escolha unidade" data-search="true" data-silent-initial-value-set="true">
                    
                      
                    
                    <option value="" disabled selected>Escolha unidade</option>
                    {% for unid_saude in unidades_saude_municipio %}
                    {% if unid_saude.nome == user.unidade_saude %}
                    <option value="{{unid_saude.nome}}" selected>{{unid_saude.nome}}</option>
                    {% else %}
                    <option value="{{unid_saude.nome}}">{{unid_saude.nome}}</option>
                    {% endif %}
                    {% endfor %}
                    
                  </select>
                  {% endif %}

                </div>
              </div>
    
              <div class="col">
                <div class="form-group">
    
                  <button type="button" class="btn btn-sm btn-info m-0 mt-4 mb-4" onclick="activeOutraUnidade()">Informar Outra Unidade</button>
    
                </div>
              </div>
    
            </div>
            
    
            <div class="row">
              <div class="col col-sm">
                <div class="input-group input-group-sm mb-3" id="">
                  <span class="input-group-text">Outra Unidade</span>                  
                  <input type="text" class="form-control" name="unidade_saude_outro" value="" id="outra_unidade_id" disabled>
                </div>
              </div>
              <div class="col">
                <div class="form-group">
    
                  <button type="button" class="btn btn-sm btn-warning" id="btn_desfaz_outra_unidade_id" onclick="desactiveOutraUnidade()" disabled>Desfaz</button>
    
                </div>
              </div>
            </div>

          </div>
        </div>


        

      </div>
      

      <div id="home" class="container mb-4">
        <div class="card">
          <div class="card-header">NOTIFICAÇÃO INDIVIDUAL</div>          
          <div class="card-body">
            <div class="row">                  
              <div class="col">
                <div class="form-group">
                  <input type="date" class="form-control form-control-sm" id="dateDefault" / style="display: none;">
                </div>                                
              </div>                  
            </div>

            <script>
              function setInputDate(_id){
                var _dat = document.querySelector(_id);
                var hoy = new Date(),
                d = hoy.getDate(),
                m = hoy.getMonth()+1, 
                y = hoy.getFullYear(),
                data;

                if(d < 10){
                  d = "0"+d;
                };
                if(m < 10){
                  m = "0"+m;
                };

                data = y+"-"+m+"-"+d;
                _dat.value = data;
              };

              setInputDate("#dateDefault");
            </script>

            <script>
              function limitcarc(e, tipo) {
                var chr = String.fromCharCode(e.which);
                if (tipo == 'letr_acent'){
                  if ("áéíóúâêîôûãõ qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM".indexOf(chr) < 0)
                    return false;
                }else if (tipo == 'num') {
                  if ("0123456789".indexOf(chr) < 0)
                    return false;
                }else if (tipo == 'letr'){
                  if (" qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM".indexOf(chr) < 0)
                    return false;
                }else if (tipo == 'letr_num'){
                  if ("áéíóúâêîôûãõ qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM 0123456789".indexOf(chr) < 0)
                    return false;
                }
              }

            //js para validar quantidade de caracteres
            
            $('#Form').on('submit', function(event) {
              
              event.preventDefault();

              nome_paciente = $('#nome_paciente_id');
              alvo_erro = $('#msg-error');

              if (nome_paciente.val().length < 10) {
                alvo_erro.html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i> O nome deve ter no mínimo 10 caracteres!</div>');
              } else {
                      //.....
                      
                      alvo_erro.empty();
                      }
              });
            </script>

                <div class="row">
                  <div class="col"><b>Paciente</b><i id="alert_paciente" style="color:red">**</i>
                    <div class="form-group">
                      <input class="form-control form-control-sm" type="text" placeholder="Sem abreviações" name="nome_paciente" value="" id="nome_paciente_id" required style="text-transform: uppercase;" onkeydown="verificarNotifGeral()" onkeypress="return limitcarc(event, 'letr')">

                    </div><div id="msg-error"></div>
                  </div>
                  <div class="col">
                    <div class="form-group"><b>Data Nasc</b>
                      <i id="alert_data_nasc" style="color:red">**</i>
                      <input class="form-control form-control-sm" type="date" name="data_nasc" id="date2" placeholder="" value="" required onchange="verificarNotifGeral()">
                    </div>                                
                  </div>
                  <script>
                    date2.max = new Date().toISOString().split("T")[0];
                  </script>
                  <div onclick="activeGestante()" class="col-lg-3">
                    <div class="form-group"><b>Sexo</b><i id="alert_sexo" style="color:red">**</i>
                      <select class="select-model" name="sexo" id="span_id" placeholder="Selecionar" data-search="false" data-silent-initial-value-set="true">

                        <option value="" disabled selected>Selecionar</option>
                        <option value="M">Masculino</option>
                        <option value="F">Feminino</option>
                        <option value="Ignorado">Ignorado</option>

                      </select>
                    </div>
                  </div>

                </div>

            <script>
                  
                  // Calculando IDADE
                  $('#date2').on('change', function(){
                    var data = document.getElementById('date2');
                    var idade = calcula(data);
                    idade = String(idade);
                    document.getElementById('result').value = idade;
                    activeGestante();
                  })
                  function calcula(data_nascimento){
                    today = new Date();
                    nascimento = new Date(data_nascimento.value);
                    idade = parseInt(((today - nascimento)/(24 * 3600 * 1000))/365);
                    return idade;
                  } // FIM Calculando IDADE

            </script>

            <div class="row">
              <div class="col">
                <div class="form-group"><b>Idade</b>
                  <input class="form-control form-control-sm" type="text" name="result" placeholder="" onkeypress="return limitcarc(event, 'num')" value="" id="result" readonly>
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Raça</b><i id="alert_raca" style="color:red">**</i>
                  <select class="select-model" name="raca" id="raca" placeholder="Selecionar" data-search="false" data-silent-initial-value-set="true">                  

                    <option value="" selected>Selecionar</option>
                    <option value="Branca">Branca</option>
                    <option value="Preta">Preta</option>
                    <option value="Amarela">Amarela</option>
                    <option value="Parda">Parda</option>
                    <option value="Indígena">Indígena</option>
                    <option value="Ignorado">Ignorado</option>
                    
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Gestante</b>
                  <select class="select-model" name="gestacao" id="gestante_id" placeholder="Selecionar" data-search="false" data-silent-initial-value-set="true">                  

                    <option value="" disabled selected>Selecionar</option>
                    <option value="1º Trimestre">1º Trimestre</option>
                    <option value="2º Trimestre">2º Trimestre</option>
                    <option value="3º Trimestre">3º Trimestre</option>
                    <option value="Idade Gestacional Ignorada">Idade Gestacional Ignorada</option>
                    <option value="Ignorado">Ignorado</option>
                    <option value="Não se aplica">Não se aplica</option>
                    <option value="Não">Não</option>

                  </select>
                  <div class="valid-feedback">Valid.</div>
                  <div class="invalid-feedback">Seleção obrigatória.</div>
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Escolaridade</b>
                  <select class="select-model" name="escolaridade" id="escolaridade" placeholder="Selecionar" data-search="false" data-silent-initial-value-set="true">                  

                    <option value="" disabled selected>Selecionar</option>
                    <option value="Analfabeto">Analfabeto</option>
                    <option value="1ª a 4ª serie incompleto">1ª a 4ª série incompleto</option>
                    <option value="4ª serie completa">4ª série completa</option>
                    <option value="5ª a 8ª serie incompleto">5ª a 8ª série incompleto</option>
                    <option value="Ensido Fundamental Completo">Ensido Fundamental Completo</option>
                    <option value="Ensino Medio incompleto">Ensino Médio incompleto</option>
                    <option value="Ensino Medio Completo">Ensino Médio Completo</option>
                    <option value="Superior Incompleto">Superior Incompleto</option>
                    <option value="Superior completo">Superior completo</option>
                    <option value="Nao se aplica">Não se aplica</option>
                    
                  </select>
                </div>
              </div>
            </div>

            <div class="row">

              <div class="col">
                <div class="form-group"><b>Cartão SUS</b>
                  <input class="form-control form-control-sm" placeholder="000.0000.0000.0000" type="text" id="cartao_sus" name="cartao_sus" onkeypress="return limitcarc(event, 'num')" placeholder="" value="">
                </div>              
              </div>
              <div class="col">
                <div class="form-group"><b>Nome da Mãe</b><i id="alert_nome_mae" style="color:red">**</i>
                  <input class="form-control form-control-sm" type="text" name="nome_mae" placeholder="Sem abreviações" value="" id="nome_mae_id" required onkeydown="verificarNotifGeral()" onkeypress="return limitcarc(event, 'letr')" style="text-transform: uppercase;">
                </div>              
              </div>
            </div>

            <script>
              $('#cartao_sus').mask("000.0000.0000.0000")
              function verificarNotifGeral(){
                var nome_paciente = document.getElementById('nome_paciente_id').value.length;
                var nome_mae = document.getElementById('nome_mae_id').value.length;
                var date2 = document.getElementById('date2').value;
                var municipio = document.getElementById('municipio_id').value.length;
                var data_notificacao = document.getElementById('datanotificacao').value;
                var sexo = document.getElementById('span_id').value;
                var data_invest = document.getElementById('data_investigacao_id').value;
                var data_1_s = document.getElementById('dt_primeiros_s').value;
                var telefone = document.getElementById('telefone_residencia_id').value.length;
                var cep = document.getElementById('cep').value;
                var cidade = $('#municipios_estado_id').val()
                var raca = $('#raca').val()
                
                if (sexo != "") {$('#alert_sexo').hide();} else {$('#alert_sexo').show();};

                if (data_notificacao != "") {$('#alert_data_notificacao').hide();} else {$('#alert_data_notificacao').show();};

                if (municipio != 0) {$('#alert_municipio').hide();} else {$('#alert_municipio').show();};

                if (data_1_s != "") {$('#alert_dt_ps').hide();} else {$('#alert_dt_ps').show();};
                
                if (nome_paciente >= 10) {$('#alert_paciente').hide();} else {$('#alert_paciente').show();};
                
                if (date2 != "") {$('#alert_data_nasc').hide();} else {$('#alert_data_nasc').show();}

                if (cep != "" || cidade != "")  {
                  $('#pais_fora_id').prop("disabled", true)
                  } else {
                    $('#pais_fora_id').prop("disabled", false)
                    }                    

                if (data_invest != "") {$('#alert_data_invest').hide(); $('#alert_anteced_epid').hide();} else {$('#alert_data_invest').show(); $('#alert_anteced_epid').show();}

                if (nome_mae >= 10) {$('#alert_nome_mae').hide();} else {$('#alert_nome_mae').show();}
                
                if ((nome_paciente >= 10) && (nome_mae >= 10) && (date2 != "") && (sexo != "") ){
                  $("#alert_notificacao_individual").hide();
                } else {$("#alert_notificacao_individual").show();}

                if ((data_1_s != "") && (municipio != 0) && (data_notificacao != "")){
                  $('#alert_dados_gerais').hide();
                }
                if (telefone != 14) {$('#alert_telefone_paciente').show()} else {$('#alert_telefone_paciente').hide()};

                if ((telefone == 14) && (cidade.length >= 4)) {
                  $("#alert_dados_residencia").hide();                      
                } else{$("#alert_dados_residencia").show()}
                alert_investigador = $('#alert_investigador').prop('hidden')                   
                
                if (
                  (alert_investigador == true) &&
                  (data_notificacao != "") &&
                  (nome_paciente >= 10) &&
                  (data_invest != "") &&                                
                  (nome_mae >= 10) &&
                  (data_1_s != "") &&
                  (municipio != 0) &&
                  (telefone == 14) &&
                  (cidade != "") &&
                  (date2 != "") &&
                  (sexo != "") &&
                  (raca != '')
                ){
                  $("#btn_submit_id").prop("disabled", false);
                } else {
                  $("#btn_submit_id").prop("disabled", true);
                }                
              
              }
            </script>

          </div>
        </div>




      </div>
      <div id="menu1" class="container mb-4">
        <div class="card">
          <div class="card-header">DADOS DE RESIDÊNCIA</div>          
          <div class="card-body">
            <div class="row">
    
              <div class="col">
                <div class="form-group"><b>CEP</b>
                  <input class="form-control form-control-sm" type="text" onkeypress="return limitcarc(event, 'num')" name="cep_residencia" id="cep" placeholder="00000-000" value="" onkeydown="verificarNotifGeral()">
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>UF</b>
                  <select class="select-model" name="uf_residencia" id="uf_dados_residencia_id" placeholder="Selecione um item" data-search="true" data-silent-initial-value-set="true">                  
                    {% for e in estados %}
                    {% if e.nome == 'Paraíba' %}
                    <option value="{{e.id}}" selected>{{e.nome}}</option>
                    {%else%}
                    <option value="{{e.id}}">{{e.nome}}</option>
                    {%endif%}
                    {% endfor %}
                  </select>
                  <!--
                  <input class="form-control form-control-sm" type="text" onkeypress="return limitcarc(event, 'letr')" name="uf_residencia" id="uf" placeholder="" value="">
                  -->                    
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Município de Residência</b><i id="alert_municipio_residencia" style="color:red">**</i>
                  <!--
                  <input class="form-control form-control-sm" type="text" onkeypress="return limitcarc(event, 'letr_acent')" name="cidade_residencia" id="cidade" placeholder="" value="" onkeydown="verificarNotifGeral()">
                -->
                <select class="select-model" name="cidade_residencia" id="municipios_estado_id" placeholder="Selecione um item" data-search="true" data-silent-initial-value-set="true">
                    {% for m in municipios %}
                    {% if m.nome == "João Pessoa" %}
                    <option value="{{m.id}}" selected>{{m.nome}}</option>
                    {%else%}
                    <option value="{{m.id}}">{{m.nome}}</option>
                    {%endif%}
                    {%endfor%}
                  </select>
    
                </div>              
              </div>
              
             
    
              <div class="col">
                <div class="form-group"><b>Código IBGE</b>
                  <input type="text" class="form-control form-control-sm" id="ibge_municipio_residencia_id" value="2507507" name="codigo_ibge_residencia" readonly>
                </div>
              </div>
              
            </div>
            
            <div class="row">
              <div class="col">
                <div class="form-group"><b>Bairro</b>
                  <input class="form-control form-control-sm" type="text" onkeypress="return limitcarc(event, 'letr_acent')" name="bairro_residencia" id="bairro" placeholder="" value="">
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Rua</b>
                  <input class="form-control form-control-sm" onkeypress="return limitcarc(event, 'letra_num')" type="text" name="rua_residencia" id="rua" placeholder="" value="">
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Número</b>
                  <input class="form-control form-control-sm" type="text" onkeypress="return limitcarc(event, 'letr_num')" name="numero_residencia" id="numero_residencia" placeholder="" value="" style="text-transform: uppercase;">
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Complemento</b>
                  <input class="form-control form-control-sm" onkeypress="return limitcarc(event, 'letra_num')" type="text" name="complemento_residencia" id="" placeholder="" value="">
                </div>
              </div>
              
              
    
            </div>
            <div class="row">
    
              <div class="col">
                <div class="form-group"><b>Distrito</b>
                  <input class="form-control form-control-sm" onkeypress="return limitcarc(event, 'letra_num')" type="text" name="distrito_residencia" id="rua" placeholder="" value="">
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Ponto de Referência</b>
                  <input class="form-control form-control-sm" onkeypress="return limitcarc(event, 'letra_num')" type="text" name="ponto_referencia_residencia" id="" placeholder="" value="">
                </div>
              </div>                
              
            </div>
            <div class="row">
              <div class="col">
                <div class="form-group"><b>Telefone</b><i id="alert_telefone_paciente" style="color:red">**</i>
                  <input type="text" placeholder="(00)00000-0000" class="form-control form-control-sm" id="telefone_residencia_id" name="telefone_residencia" required onkeyup="verificarNotifGeral()">
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Zona</b>
                  <select class="select-model" name="zona_residencia" id="" placeholder="Selecionar" data-search="false" data-silent-initial-value-set="true">
                    <option value="" disabled selected>Selecionar</option>
                    <option value="Rural">Rural</option>
                    <option value="Urbana">Urbana</option>
                    <option value="Periurbana">Periurbana</option>
                    <option value="Ignorado">Ignorado</option>                        
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>País - </b><i>Se residem fora do Brasil</i>
                  <input class="form-control form-control-sm" onkeypress="return limitcarc(event, 'letr_acent')" type="text" name="pais_residente_fora_pais" id="pais_fora_id" placeholder="" value="">
                </div>
              </div>
            </div>

          </div>
        </div>

        
      </div>
      <div id="menu2" class="container mb-4">
        <div class="card">
          <div class="card-header">ANTECEDENTES EPIDEMIOLÓGICOS</div>          
          <div class="card-body">
            <div class="row">
              <div class="col">
                <div class="form-group"><b>Data de Investigação</b><i id="alert_data_invest" style="color:red">**</i>
                  <input class="form-control form-control-sm" type="date" name="data_investigacao" value="" id="data_investigacao_id" onclick="limitDataInv()" onchange="verificarNotifGeral()">
                </div>
              </div>
              <div class="col">
                <div class="form-group"><b>Ocupação do Paciente</b>
                  <input class="form-control form-control-sm" type="text" name="ocupacao" placeholder="" value="">
                </div>
              </div>
            </div>
            <hr>
            <div class="row">
              
              <div class="col-sm-12">
                <div class="alert alert-warning" style="text-align: center;">
                  <strong style="align-items: center;">Situação de Risco nas últimas semanas: <i>14 dias</i></strong>
                </div>
              </div>
              
            </div>
    
    
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Frequentou Ambientes</strong>
                </div>
              </div>
            </div>
    
    
            <div class="row text-center">
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="mata_id" name="ambientes_frequentados" value="Mata">
                  <label class="custom-control-label" for="mata_id">Mata</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="floresta_id" name="ambientes_frequentados" value="Floresta">
                  <label class="custom-control-label" for="floresta_id">Floresta</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="rios_id" name="ambientes_frequentados" value="Rios">
                  <label class="custom-control-label" for="rios_id">Rios</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="cachoeira_id" name="ambientes_frequentados" value="Cachoeiras">
                  <label class="custom-control-label" for="cachoeira_id">Cachoeiras</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="sitios_id" name="ambientes_frequentados" value="Sítios">
                  <label class="custom-control-label" for="sitios_id">Sítios</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="outros_id" onclick="verificarOutros(this)" name="ambientes_frequentados" value="Outros">
                  <label class="custom-control-label" for="outros_id">Outros</label>
                </div>
              </div>
            </div>
            <div class="row mb-2">              
              <div class="col">
                <input hidden disabled placeholder="Outros..." name="ambientes_frequentados_outros" type="text" class="form-control form-control-sm outros_id">
              </div>              
            </div>
            
    
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Teve contato com Animais</strong>
                </div>
              </div>
            </div>
    
    
            <div class="row text-center">
              
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="gato_id" name="animais_que_teve_contato" value="Gato">
                  <label class="custom-control-label" for="gato_id">Gato</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="cao_id" name="animais_que_teve_contato" value="Cão">
                  <label class="custom-control-label" for="cao_id">Cão</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="equinos_id" name="animais_que_teve_contato" value="Equinos">
                  <label class="custom-control-label" for="equinos_id">Equinos</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="outros_animais_id" onclick="verificarOutros(this)" name="animais_que_teve_contato" value="Outros Animais">
                  <label class="custom-control-label" for="outros_animais_id">Outros</label>
                </div>
              </div>
    
            </div>
            <div class="row mb-2">
              
              <div class="col">
                <input hidden disabled placeholder="Outros..." name="animais_que_teve_contato_outros" type="text" class="form-control form-control-sm outros_animais_id">
              </div>
              
            </div>
            
    
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Natureza do contato com animais</strong>
                </div>
              </div>
            </div>
    
            <div class="row text-center">
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="mordida_id" name="natureza_contato_animais" value="Mordedura">
                  <label class="custom-control-label" for="mordida_id">Mordedura</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="arranhadura_id" name="natureza_contato_animais" value="Arranhadura">
                  <label class="custom-control-label" for="arranhadura_id">Arranhadura</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="lesoes_mucosas_id" name="natureza_contato_animais" value="Lesões Mucosas do Animal">
                  <label class="custom-control-label" for="lesoes_mucosas_id">Lesões Mucosas do Animal</label>
                </div>
              </div>
            </div>
            <div class="row text-center">
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="lesoes_cutaneas_id" name="natureza_contato_animais" value="Lesões Cutâneas (Úlceras) do animal">
                  <label class="custom-control-label" for="lesoes_cutaneas_id">Lesões Cutâneas (Úlceras) do animal</label>
                </div>
              </div>                  
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="outros_a_id" onclick="verificarOutros(this)" name="natureza_contato_animais" value="Outros">
                  <label class="custom-control-label" for="outros_a_id">Outros</label>
                </div>
              </div>
            </div>
            <div class="row mb-2">              
              <div class="col">
                <input hidden disabled placeholder="Outros..." name="natureza_contato_animais_outros" type="text" class="form-control form-control-sm outros_a_id">
              </div>              
            </div>
            
    
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Relação com Animal doente</strong>
                </div>
              </div>
            </div>
    
    
            <div class="row text-center">
              
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="tratador_proprietario_id" name="relacao_animal_doente" value="Tratador/Proprietário do animal">
                  <label class="custom-control-label" for="tratador_proprietario_id">Tratador/Proprietário do animal</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="prof_saude_id" name="relacao_animal_doente" value="Profissional de Saúde">
                  <label class="custom-control-label" for="prof_saude_id">Profissional de Saúde
                    <a href="#" data-toggle="tooltip" data-placement="right" title="Veterinário, Enfermeiro, Tratador de Animal em Clínicas!">(*)</a>
                  </label>
                </div>
              </div>
    
              <script>
                $(document).ready(function(){
                  $('[data-toggle="tooltip"]').tooltip();
                  $('#cid_number').val(10);
                  $("#coleta_gal_1").hide();
                  $("#coleta_gal_2").hide();
                  $("#coleta_gal_3").hide();
                });
              </script>
            </div>
            <div class="row text-center">
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="abrigo_id" name="relacao_animal_doente" value="Abrigo/ONG">
                  <label class="custom-control-label" for="abrigo_id">Abrigo/ONG</label>
                </div>
              </div>
              
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="outros_p_id" onclick="verificarOutros(this)" name="relacao_animal_doente" value="Outros">
                  <label class="custom-control-label" for="outros_p_id">Outros</label>
                </div>
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">
                <input hidden disabled placeholder="Outros:" name="relacao_animal_doente_outros" type="text" class="form-control form-control-sm outros_p_id">
              </div>              
            </div>
            
            <script>
              function verificarOutros(outro){
                class_outro_input = '.'+String(outro.id)
                input_outro = $(class_outro_input)[0]
                if (outro.checked){
                  input_outro.hidden = false
                  input_outro.disabled = false
                } else {
                  input_outro.hidden = true;
                  input_outro.disabled = true
                  input_outro.value = null
                }
              };
            </script>
            
    
            <div class="row">
              <div class="col">
                <label class="form-label m-0" for="exerc_ativ_contato_plantas"><small><b>Exerce atividade que Resulte em CONTATO CONSTANTE COM PLANTAS?</b></small></label>
                <div id="exerc_ativ_contato_plantas" class="radio-container mb-4">
                  <input type="radio" class="custom-control-input" id="customRadio25" name="exerc_ativ_contato_plantas" value="Sim">
                  <label class="radio-label" for="customRadio25">Sim</label>
                  <input type="radio" class="custom-control-input" id="customRadio26" name="exerc_ativ_contato_plantas" value="Não">
                  <label class="radio-label" for="customRadio26">Não</label>
                  <input type="radio" class="custom-control-input" id="customRadio27" name="exerc_ativ_contato_plantas" value="Ignorado">
                  <label class="radio-label" for="customRadio27">Ignorado</label>
                </div>
              </div>    
    
              <script>
                $(document).ready(function(){
                  $('[data-toggle="tooltip"]').tooltip();   
                });
              </script>                                    
            </div>
               
    
            <div class="row">
              <div class="col">
                <label class="form-label m-0" for="lesao_manuseio"><small><b>História de Corte, Lesão ou Trauma durante o manuseio de Plantas ou Material Orgânico SUSPEITO DE CONTAMINAÇÃO PELO FUNGO?</b></small></label>
                <div id="lesao_manuseio" class="radio-container mb-4">
                  <input type="radio" class="custom-control-input" id="customRadio28" name="lesao_manuseio" value="Sim">
                  <label class="radio-label" for="customRadio28">Sim</label>
                  <input type="radio" class="custom-control-input" id="customRadio29" name="lesao_manuseio" value="Não">
                  <label class="radio-label" for="customRadio29">Não</label>
                  <input type="radio" class="custom-control-input" id="customRadio30" name="lesao_manuseio" value="Ignorado">
                  <label class="radio-label" for="customRadio30">Ignorado</label>
                </div>
              </div>
              
              <script>
                $(document).ready(function(){
                  $('[data-toggle="tooltip"]').tooltip();   
                });
              </script>                                    
              
            </div>

          </div>
        </div>


      </div>
      

      <div id="menu3" class="container mb-4">
        <div class="card">
          <div class="card-header">DADOS CLÍNICOS</div>          
          <div class="card-body">
            <div class="row">
              <div class="col">
                <label class="form-label m-0" for="presenca_lesao_pele"><small><b>Presença de Lesão na Pele</b></small></label>
                <div id="presenca_lesao_pele" class="radio-container mb-4">
                  <input type="radio" class="custom-control-input" id="customRadio19" name="presenca_lesao_pele" value="Sim">
                  <label class="radio-label" for="customRadio19">Sim</label>
                  <input type="radio" class="custom-control-input" id="customRadio20" name="presenca_lesao_pele" value="Não">
                  <label class="radio-label" for="customRadio20">Não</label>
                  <input type="radio" class="custom-control-input" id="customRadio21" name="presenca_lesao_pele" value="Ignorado">
                  <label class="radio-label" for="customRadio21">Ignorado</label>
                </div>
              </div>              
            </div>
    
            <style>
              #nat_lesao_outros_id,
              #loc_lesao_outros_id{
                display: none;
              }
            </style>
            <script>
              $(function() {
                $(document).on('click','#natureza_lesao_outros_id', function (e) {
                  if ($(this).is(":checked")) {
                    $("#nat_lesao_outros_id").show();
                  } else {
                    $("#nat_lesao_outros_id").hide();
                    $("#nat_lesao_outros_id").val("");
                  }
                });
              });
              function limitDataInv(){
                dt_primeiros_s = document.getElementById('dt_primeiros_s').value;
                dt_investigacao = document.getElementById('data_investigacao_id');
                dt_atual = new Date().toISOString().split("T")[0];
                dt_investigacao.max = dt_atual;
                dt_investigacao.min = dt_primeiros_s;
              };
              function active_deactive_1(){
                if(document.getElementById('checkbox_1_id').checked == true){
                  $("#gal_id_1").prop("disabled", false);
                  $("#data_coleta_material_id_1").prop("disabled", false);
                  $("#btn_gal_id_1").hide();
                } else if(document.getElementById('checkbox_1_id').checked == false){
                  $("#gal_id_1").prop("disabled", true);
                  $("#data_coleta_material_id_1").prop("disabled", true);
                  $("#gal_id_1").val("");
                  $("#data_coleta_material_id_1").val("");
                  $("#btn_gal_id_1").prop("disabled", true);
                  $("#btn_gal_id_1").hide();
                }
              };
              function active_deactive_2(){
                if(document.getElementById('checkbox_2_id').checked == true){
                  $("#gal_id_2").prop("disabled", false);
                  $("#data_coleta_material_id_2").prop("disabled", false);
                  $("#btn_gal_id_2").hide();
                } else if(document.getElementById('checkbox_2_id').checked == false){
                  $("#gal_id_2").prop("disabled", true);
                  $("#data_coleta_material_id_2").prop("disabled", true);
                  $("#gal_id_2").val("");
                  $("#data_coleta_material_id_2").val("");
                  $("#btn_gal_id_2").prop("disabled", true);
                  $("#btn_gal_id_2").hide();
                }
              };
              function active_deactive_3(){
                if(document.getElementById('checkbox_3_id').checked == true){
                  $("#gal_id_3").prop("disabled", false);
                  $("#data_coleta_material_id_3").prop("disabled", false);
                  $("#btn_gal_id_3").hide();
                } else if(document.getElementById('checkbox_3_id').checked == false){
                  $("#gal_id_3").prop("disabled", true);
                  $("#data_coleta_material_id_3").prop("disabled", true);
                  $("#gal_id_3").val("");
                  $("#data_coleta_material_id_3").val("");
                  $("#btn_gal_id_3").prop("disabled", true);
                  $("#btn_gal_id_3").hide();
                }
              };
    
              $(function() {
                $(document).on('click','#local_lesao_outros_id', function (e) {
                  if ($(this).is(":checked")) {
                    $("#loc_lesao_outros_id").show();
                  } else {
                    $("#loc_lesao_outros_id").hide();
                    $("#loc_lesao_outros_id").val("");
                  }
                });
              });
                                
              $(function() {
                $(document).on('click','#coleta_exame_labo_sim_id', function (e) {
                  if ($(this).is(":checked")) {
                    $("#coleta_gal_1").show();
                    $("#coleta_gal_2").show();
                    $("#coleta_gal_3").show();
                  } else {
                    $("#coleta_gal_1").hide();
                    $("#coleta_gal_2").hide();
                    $("#coleta_gal_3").hide();
                    
                    $('#gal_id_1').val("");
                    $("#data_coleta_material_id_1").val("");
                    $('#gal_id_2').val("");
                    $("#data_coleta_material_id_2").val("");
                    $('#gal_id_3').val("");
                    $("#data_coleta_material_id_3").val("");
                  }
                });
              });
    
              $(function() {
                $(document).on('click','#coleta_exame_nao_id', function (e) {
                  if ($(this).is(":checked")) {
                    $("#coleta_gal_1").hide();
                    $("#coleta_gal_2").hide();
                    $("#coleta_gal_3").hide();
                    
                    $('#gal_id_1').val("");
                    $("#data_coleta_material_id_1").val("");
                    $('#gal_id_2').val("");
                    $("#data_coleta_material_id_2").val("");
                    $('#gal_id_3').val("");
                    $("#data_coleta_material_id_3").val("");
                  }
                });
              }) ;
    
              $(function() {
                $(document).on('click','#coleta_exame_ignorado_id', function (e) {
                  if ($(this).is(":checked")) {
                    $("#coleta_gal_1").hide();
                    $("#coleta_gal_2").hide();
                    $("#coleta_gal_3").hide();
                    
                    $('#gal_id_1').val("");
                    $("#data_coleta_material_id_1").val("");
                    $('#gal_id_2').val("");
                    $("#data_coleta_material_id_2").val("");
                    $('#gal_id_3').val("");
                    $("#data_coleta_material_id_3").val("");
                  }
                });
              }) ;
    
              $(function() {
                $(document).on('click','#customRadio22', function (e) {
                  $("#local_diag_extracutaneo").prop("disabled", false);
                });
              });
    
              $(function() {
                $(document).on('click','#customRadio23', function (e) {
                  $("#local_diag_extracutaneo").prop("disabled", true);
                  $("#local_diag_extracutaneo").val("");
                });
              });
    
              $(function() {
                $(document).on('click','#customRadio24', function (e) {
                  $("#local_diag_extracutaneo").prop("disabled", true);
                  $("#local_diag_extracutaneo").val("");
                });
              });
    
              $(function() {
                $(document).on('click','#customRadio1', function (e) {
                  $("#agente_id").prop("disabled", false);
                });
              });
    
              $(function() {
                $(document).on('click','#customRadio2', function (e) {
                  $("#agente_id").prop("disabled", true);
                  $("#agente_id").val("");
                });
              });
    
              $(function() {
                $(document).on('click','#customRadio3', function (e) {
                  $("#agente_id").prop("disabled", true);
                  $("#agente_id").val("");
                });
              });
    
              $(function() {
                $(document).on('click','#customRadio4', function (e) {
                  $("#agente_id").prop("disabled", true);
                  $("#agente_id").val("");
                });
              });
    
    
            </script>
    
            
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Natureza da Lesão</strong>
                </div>
              </div>
            </div>
            <div class="row text-center">
              
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="papula_id" name="natureza_lesao" value="Pápula">
                  <label class="custom-control-label" for="papula_id">Pápula</label>
                </div>
              </div>
              
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="ulcera_id" name="natureza_lesao" value="Úlcera">
                  <label class="custom-control-label" for="ulcera_id">Úlcera</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="linfonodos_id" name="natureza_lesao" value="Linfonodos">
                  <label class="custom-control-label" for="linfonodos_id">Linfonodos
    
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="natureza_lesao_outros_id" name="natureza_lesao" value="Outros">
                  <label class="custom-control-label" for="natureza_lesao_outros_id">Outros</label>
                </div>
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">
                <div class="form-group">
                  <input class="form-control form-control-sm" type="text" placeholder="Outros..." id="nat_lesao_outros_id" name="natureza_lesao_outros" value="">
                </div>
              </div>
            </div>
            
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Localização da Lesão - (PARTE DO CORPO ATINGIDA)</strong>
                </div>
              </div>
            </div>
    
            <div class="row text-center">
              
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="mao_id" name="local_lesao" value="Mão">
                  <label class="custom-control-label" for="mao_id">Mão</label>
                </div>
              </div>
              
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="membro_superir_id" name="local_lesao" value="Membro Superior">
                  <label class="custom-control-label" for="membro_superir_id">Membro Superior</label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-2">
                  <input type="checkbox" class="custom-control-input" id="cabeca_id" name="local_lesao" value="Cabeça">
                  <label class="custom-control-label" for="cabeca_id">Cabeça
    
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="pescoco_id" name="local_lesao" value="Pescoço">
                  <label class="custom-control-label" for="pescoco_id">Pescoço
    
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="torax_id" name="local_lesao" value="Tórax">
                  <label class="custom-control-label" for="torax_id">Tórax
    
                  </label>
                </div>
              </div> 
            </div>
    
    
            <div class="row text-center">
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="abdome_id" name="local_lesao" value="Abdome">
                  <label class="custom-control-label" for="abdome_id">Abdome
    
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="pe_id" name="local_lesao" value="Pé">
                  <label class="custom-control-label" for="pe_id">Pé
    
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="membro_inferior_id" name="local_lesao" value="Membro Inferior">
                  <label class="custom-control-label" for="membro_inferior_id">Membro Inferior
    
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="todo_corpo_id" name="local_lesao" value="Todo Corpo">
                  <label class="custom-control-label" for="todo_corpo_id">Todo Corpo
    
                  </label>
                </div>
              </div>
              <div class="col">
                <div class="custom-control custom-checkbox mb-3">
                  <input type="checkbox" class="custom-control-input" id="local_lesao_outros_id" name="local_lesao" value="Outros">
                  <label class="custom-control-label" for="local_lesao_outros_id">Outros
    
                  </label>
                </div>
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">
                <div class="form-group">
                  <input class="form-control form-control-sm" placeholder="Outros..." type="text" id="loc_lesao_outros_id" name="local_lesao_outros" value="">
                </div>
              </div>
    
            </div>
            
            
            <div class="row">
              <div class="col">
                <label class="form-label m-0" for="diagnostico_extracutaneo"><small><b>Diagnóstico de FORMA EXTRACUTÂNEA DA DOENÇA</b></small></label>
                <div class="radio-container mb-4" id="diagnostico_extracutaneo">
                  <input type="radio" class="custom-control-input" id="customRadio22" name="diagnostico_extracutaneo" value="Sim">
                  <label class="radio-label" for="customRadio22">Sim</label>
                  <input type="radio" class="custom-control-input" id="customRadio23" name="diagnostico_extracutaneo" value="Não">
                  <label class="radio-label" for="customRadio23">Não</label>
                  <input type="radio" class="custom-control-input" id="customRadio24" name="diagnostico_extracutaneo" value="Ignorado">
                  <label class="radio-label" for="customRadio24">Ignorado</label>
                </div>
              </div>    
            </div>
    
            <div class="row">
              
              <div class="col">
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">Qual Localização</span>
                  </div>
                  <input type="text" class="form-control form-control-sm" name="local_extra_cutanea" value="" id="local_diag_extracutaneo" disabled>
                </div>
              </div>
            </div>

          </div>
        </div>


      </div>
      
      <div id="menu4" class="container mb-4">
        <div class="card">
          <div class="card-header">DADOS LABORATORIAIS</div>          
          <div class="card-body">
            <div class="row">    
              <div class="col">
                <label class="form-label m-0" for="coleta_exame_labo_sim"><small><b>Houve coleta de Material para EXAME LABORATORIAL</b></small></label>
                <div class="radio-container mb-4" id="coleta_exame_labo_sim">
                  <input type="radio" class="custom-control-input" id="coleta_exame_labo_sim_id" name="coleta_exame_labo_sim" value="Sim">
                  <label class="radio-label" for="coleta_exame_labo_sim_id">Sim</label>                  
                  <input type="radio" class="custom-control-input" id="coleta_exame_nao_id" name="coleta_exame_labo_sim" value="Não">
                  <label class="radio-label" for="coleta_exame_nao_id">Não</label>
                  <input type="radio" class="custom-control-input" id="coleta_exame_ignorado_id" name="coleta_exame_labo_sim" value="Ignorado">
                  <label class="radio-label" for="coleta_exame_ignorado_id">Ignorado</label>
                </div>
              </div>
            </div>
            <!-- |INICIO| DATA COLETA E GAL -->
            <!-- |1| DATA COLETA E GAL -->
            <div id="coleta_gal_1" class="row">
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="lb_data_coleta_material_1">
                    <input onclick="active_deactive_1()" style="margin-top:12px;" class="form-check-input" type="checkbox" value="" id="checkbox_1_id">
                    <span class="input-group-text">Data Coleta 1</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_coleta_mat_exame1" value="" id="data_coleta_material_id_1" disabled>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="lb_gal_1">
                    <span class="input-group-text">N° GAL 1</span>
                  </div>
    
                  <input onkeydown="visualizar_gal(id)" onkeypress="return limitcarc(event, 'num')" type="text" class="form-control form-control-sm" name="" value="" id="gal_id_1" disabled>
    
                </div>
              </div>
              <div class="col">
                <button type="button" id="btn_gal_id_1" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg" disabled>Visualizar</button>
              </div>
            </div>
            <!-- |2| DATA COLETA E GAL -->
            <div id="coleta_gal_2" class="row">
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="lb_data_coleta_material_2">
                    <input onclick="active_deactive_2()" style="margin-top:12px;" class="form-check-input" type="checkbox" value="" id="checkbox_2_id">
                    <span class="input-group-text">Data Coleta 2</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_coleta_mat_exame2" value="" id="data_coleta_material_id_2" disabled>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="lb_gal_2">
                    <span class="input-group-text">N° GAL 2</span>
                  </div>
    
                  <input onkeydown="visualizar_gal(id)" onkeypress="return limitcarc(event, 'num')" type="text" class="form-control form-control-sm" name="" value="" id="gal_id_2" disabled>
    
                </div>
              </div>
              <div class="col">
                <button type="button" id="btn_gal_id_2" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg" disabled>Visualizar</button>
              </div>
            </div>
            <!-- |3| DATA COLETA E GAL -->
            <div id="coleta_gal_3" class="row">
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="lb_data_coleta_material_3">
                    <input onclick="active_deactive_3()" style="margin-top:12px;" class="form-check-input" type="checkbox" value="" id="checkbox_3_id">
                    <span class="input-group-text">Data Coleta 3</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_coleta_mat_exame3" value="" id="data_coleta_material_id_3" disabled>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="lb_gal_3">
                    <span class="input-group-text">N° GAL 3</span>
                  </div>
    
                  <input onkeydown="visualizar_gal(id)" onkeypress="return limitcarc(event, 'num')" type="text" class="form-control form-control-sm" name="" value="" id="gal_id_3" disabled>
    
                </div>
              </div>
              <div class="col">
                <button type="button" id="btn_gal_id_3" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg" disabled>Visualizar</button>
              </div>
            </div>
            <!-- MODAL GAL -->
              <!-- Large modal -->
                <div id="modal_gal" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                      <table id="table_gal" class="table table-hover">
                        <thead>
                          <tr>
                            <th>Nome do exame</th>
                            <th>Hospital</th>
                            <th>Data do exame</th>
                            <th>N° GAL</th>
                          </tr>
                        </thead>
                        <tbody>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
    
            <!-- MODAL GAL -->
            <script>
              $('#modal_gal').on('hidden.bs.modal', function (e) {
                $("table > tbody:last-child").empty();
              });
    
              $("#btn_gal_id_1").on('click', function(){
                gal_value = document.getElementById('gal_id_1').value;
                $.ajax({
                  url: "/esp-hum/ajax_gal",
                  data: {
                    'n_gal':gal_value
                  },
                  success: function(data){
                    for (exame in data){
                      nome_exame = data[exame]['nome'];
                      data_exame = data[exame]['data'];
                      hospital = data[exame]['hospital'];
                      $("table > tbody:last-child").append(`
                        <tr>
                          <td>${nome_exame}</td>
                          <td>${hospital}</td>
                          <td>${data_exame}</td>
                          <td>${gal_value}</td>
                        </tr>                                          
                      `);
                    };
                  }
                });
              });
    
              $("#btn_gal_id_2").on('click', function(){
                gal_value = document.getElementById('gal_id_2').value;
                $.ajax({
                  url: "/esp-hum/ajax_gal",
                  data: {
                    'n_gal':gal_value
                  },
                  success: function(data){
                    for (exame in data){
                      nome_exame = data[exame]['nome'];
                      data_exame = data[exame]['data'];
                      hospital = data[exame]['hospital'];
                      $("table > tbody:last-child").append(`
                        <tr>
                          <td>${nome_exame}</td>
                          <td>${hospital}</td>
                          <td>${data_exame}</td>
                          <td>${gal_value}</td>
                        </tr>                                          
                      `);
                    };
                  }
                });
              });
              $("#btn_gal_id_3").on('click', function(){
                gal_value = document.getElementById('gal_id_3').value;
                $.ajax({
                  url: "/esp-hum/ajax_gal",
                  data: {
                    'n_gal':gal_value
                  },
                  success: function(data){
                    for (exame in data){
                      nome_exame = data[exame]['nome'];
                      data_exame = data[exame]['data'];
                      hospital = data[exame]['hospital'];
                      $("table > tbody:last-child").append(`
                        <tr>
                          <td>${nome_exame}</td>
                          <td>${hospital}</td>
                          <td>${data_exame}</td>
                          <td>${gal_value}</td>
                        </tr>                                          
                      `);
                    };
                  }
                });
              });
              
              
              
              //  SCRIPT APENAS PARA A VISUALIZAÇÃO GAL
              function visualizar_gal(id){
                let id_value = document.getElementById(id).value;
                let id_btn = "#btn_"+id
                if (id_value.length > 1){
                  $(id_btn).prop('disabled', false);                      
                } else {
                  $(id_btn).prop('disabled', true);                      
                };                    
              };
            </script>
            <!-- |FIM| DATA COLETA E GAL -->
            <div class="row">
              <div class="col">
                <label for="resultado_isolamento" class="form-label m-0"><small><b>Resultado do Isolamento</b></small></label>
                <div class="radio-container mb-4" id="resultado_isolamento">
                  <input type="radio" class="custom-control-input" id="customRadio1" name="resultado_isolamento" value="Detectado">
                  <label class="radio-label" for="customRadio1">Detectado</label>
                  <input type="radio" class="custom-control-input" id="customRadio2" name="resultado_isolamento" value="Não detectado">
                  <label class="radio-label" for="customRadio2">Não detectado</label>
                  <input type="radio" class="custom-control-input" id="customRadio3" name="resultado_isolamento" value="Inconclusivo">
                  <label class="radio-label" for="customRadio3">Inconclusivo</label>
                  <input type="radio" class="custom-control-input" id="customRadio4" name="resultado_isolamento" value="Não Realizado">
                  <label class="radio-label" for="customRadio4">Não Realizado</label>
                </div>
              </div>
                        
            </div>
    
            <div class="row">
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Agente</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr_acent')" class="form-control form-control-sm" name="agente_isolamento" value="" id="agente_id" disabled>
                </div>
              </div>
            </div>
    
            
            
            <div class="row">
              <div class="col">
                <label for="histopatologia" class="form-label m-0"><small><b>Histopatologia</b></small></label>
                <div class="radio-container mb-4" id="histopatologia">
                  <input type="radio" class="custom-control-input" id="customRadio5" name="histopatologia" value="Compatível">
                  <label class="radio-label" for="customRadio5">Compatível</label>
                  <input type="radio" class="custom-control-input" id="customRadio6" name="histopatologia" value="Não compatível">
                  <label class="radio-label" for="customRadio6">Não compatível</label>
                  <input type="radio" class="custom-control-input" id="customRadio7" name="histopatologia" value="Inconclusivo">
                  <label class="radio-label" for="customRadio7">Inconclusivo</label>
                  <input type="radio" class="custom-control-input" id="customRadio8" name="histopatologia" value="Não Realizado">
                  <label class="radio-label" for="customRadio8">Não Realizado</label>
                </div>
              </div>
              
              
            </div>
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Outros Exames Realizados</strong>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Data</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_outros_exames_1" value="" id="data_outros_exames_1_id">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Descrição</span>
                  </div>
                  <select class="form-select" id="select_descricao_1">
                    <option value="micologico">Micológico</option>
                    <option value="outros">Outros</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Resultado</span>
                  </div>
                  <input type="text" class="form-control form-control-sm" name="resultado_outros_exames_1" value="" id="">
                </div>
              </div>
              
            </div>
            <div class="row">
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Data</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_outros_exames_2" value="" id="data_outros_exames_2_id">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Descrição</span>
                  </div>
                  <select class="form-select" id="select_descricao_2">
                    <option value="micologico">Micológico</option>
                    <option value="outros">Outros</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Resultado</span>
                  </div>
                  <input type="text" class="form-control form-control-sm" name="resultado_outros_exames_2" value="" id="">
                </div>
              </div>
    
              
              
            </div>
            <div class="row">
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Data</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_outros_exames_3" value="" id="data_outros_exames_3_id">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Descrição</span>
                  </div>
                  <select class="form-select" id="select_descricao_3">
                    <option value="micologico">Micológico</option>
                    <option value="outros">Outros</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Resultado</span>
                  </div>
                  <input type="text" class="form-control form-control-sm" name="resultado_outros_exames_3" value="" id="">
                </div>
              </div>
            </div>     

          </div>
        </div>
        
      </div>

      <div id="menu5" class="container mb-4">
        <div class="card">
          <div class="card-header">TRATAMENTO</div>          
          <div class="card-body">
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Tratamento</strong>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Início</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_inicio_tratamento" value="" id="data_inicio_tratamento_id">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Droga Administrada</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr')" class="form-control form-control-sm" name="droga_admin_tratamento" value="" id="">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Esquema Terapêutico</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr_num')" class="form-control form-control-sm" name="esquema_terapeutico" value="" id="">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Início</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_inicio_tratamento2" value="" id="data_inicio_tratamento2_id">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Droga Administrada</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr')" class="form-control form-control-sm" name="droga_admin_tratamento2" value="" id="">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Esquema Terapêutico</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr_num')" class="form-control form-control-sm" name="esquema_terapeutico2" value="" id="">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Início</span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_inicio_tratamento3" value="" id="data_inicio_tratamento3_id">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Droga Administrada</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr')" class="form-control form-control-sm" name="droga_admin_tratamento3" value="" id="">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Esquema Terapêutico</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr_num')" class="form-control form-control-sm" name="esquema_terapeutico3" value="" id="">
                </div>
              </div>
            </div>
    
            
            
            <script>
              function activeDadosHos(){
                if (document.getElementById("customRadio11").checked == true){
                  //$("#row_dados_hospitalizacao_id").show();
                  $("#div_g").show();
                  $("#div_lb").show();
                  
                  $("#input_internacao").prop("disabled", false);
                  $("#input_d_a").prop("disabled", false);
                  $("#sel_uf_t").prop("disabled", false);
                  $("#mun_hosp_id").prop("disabled", false);
                  $("#cod_ibge_id").prop("disabled", false);
                  $("#nome_hosp_id").prop("disabled", false);
                  $("#cod_hosp_id").prop("disabled", false);
    
                  
                  $("#div_g_da").show();
                  $("#div_lb_da").show();
                  $("#input_d_a").show();
    
                  $("#div_sel_uf").show();
                  $("#div_ls_sel").show();
                  $("#sel_uf_t").show();
                }
              }
    
              function desactiveDadosHos(){
                if (document.getElementById("customRadio9").checked == true){
                  $("#input_internacao").val("");
                  $("#input_d_a").val("");
                  $("#sel_uf_t").val("");
                  $("#mun_hosp_id").val("");
                  $("#cod_ibge_id").val("");
                  $("#nome_hosp_id").val("");
                  $("#cod_hosp_id").val("");
    
                  $("#input_internacao").prop("disabled", true);
                  $("#input_d_a").prop("disabled", true);
                  $("#sel_uf_t").prop("disabled", true);
                  $("#mun_hosp_id").prop("disabled", true);
                  $("#cod_ibge_id").prop("disabled", true);
                  $("#nome_hosp_id").prop("disabled", true);
                  $("#cod_hosp_id").prop("disabled", true);
    
                  $("#dados_hospitalizacao_outro").hide();
                  $("#outro_municipio_hospitalizacao").val("");
                  $("#outro_ibge_hospitalizacao").val("");
                  $("#outro_hospital_hospitalizacao").val("");
    
                }
              }
    
              function desactiveDadosHosI(){
                if (document.getElementById("customRadio10").checked == true){
                  $("#input_internacao").val("");
                  $("#input_d_a").val("");
                  $("#sel_uf_t").val("");
                  $("#mun_hosp_id").val("");
                  $("#cod_ibge_id").val("");
                  $("#nome_hosp_id").val("");
                  $("#cod_hosp_id").val("");
    
                  $("#input_internacao").prop("disabled", true);
                  $("#input_d_a").prop("disabled", true);
                  $("#sel_uf_t").prop("disabled", true);
                  $("#mun_hosp_id").prop("disabled", true);
                  $("#cod_ibge_id").prop("disabled", true);
                  $("#nome_hosp_id").prop("disabled", true);
                  $("#cod_hosp_id").prop("disabled", true);
    
                  $("#dados_hospitalizacao_outro").hide();
                  $("#outro_municipio_hospitalizacao").val("");
                  $("#outro_ibge_hospitalizacao").val("");
                  $("#outro_hospital_hospitalizacao").val("");
                }
              }
            </script>
    
            <div class="row">
              
              <div class="col">
                <label for="hospitalizado" class="form-label m-0"><small><b>Hospitalização</b></small></label>
                <div class="radio-container mb-4" id="hospitalizado">
                  <input type="radio" class="custom-control-input" id="customRadio11" name="hospitalizado" value="Sim" onclick="activeDadosHos()">
                  <label class="radio-label" for="customRadio11">Sim</label>
                  <input type="radio" class="custom-control-input" id="customRadio9" name="hospitalizado" value="Não" onclick="desactiveDadosHos()">
                  <label class="radio-label" for="customRadio9">Não</label>
                  <input type="radio" class="custom-control-input" id="customRadio10" name="hospitalizado" value="Ignorado" onclick="desactiveDadosHosI()">
                  <label class="radio-label" for="customRadio10">Ignorado</label>
                </div>
              </div>            
              
            </div>
            
    
            <div class="row" id="row_dados_hospitalizacao_id">
              <div class="row">

                <div class="col">
                  <div class="input-group mb-3" id="div_g">
                    <div class="input-group-prepend" id="div_lb">
                      <span class="input-group-text">Data Internação</span>
                    </div>
                    <input type="date" class="form-control form-control-sm" name="data_internacao" value="" id="input_internacao" disabled>
                  </div>
                </div>
                <div class="col">
                  <div class="input-group mb-3" id="div_g_da">
                    <div class="input-group-prepend" id="div_lb_da">
                      <span class="input-group-text">Data Alta</span>
                    </div>
                    <input type="date" class="form-control form-control-sm" name="data_alta" value="" id="input_d_a" disabled>
                  </div>
                </div>
                <div class="col">
                  <div class="input-group mb-3" id="div_sel_uf">
                    <div class="input-group-prepend" id="div_ls_sel">
                      <span class="input-group-text">UF</span>
                    </div>
                    <select class="form-select" name="uf_internacao" id="sel_uf_t" disabled onclick="activeOutroHospital()">
                      <option value=""></option>
                      <option value="AC">Acre</option>
                      <option value="AL">Alagoas</option>
                      <option value="AP">Amapá</option>
                      <option value="AM">Amazonas</option>
                      <option value="BA">Bahia</option>
                      <option value="CE">Ceará</option>
                      <option value="DF">Distrito Federal</option>
                      <option value="ES">Espírito Santo</option>
                      <option value="GO">Goiás</option>
                      <option value="MA">Maranhão</option>
                      <option value="MT">Mato Grosso</option>
                      <option value="MS">Mato Grosso do Sul</option>
                      <option value="MG">Minas Gerais</option>
                      <option value="PA">Pará</option>
                      <option value="PB" selected>Paraíba</option>
                      <option value="PR">Paraná</option>
                      <option value="PE">Pernambuco</option>
                      <option value="PI">Piauí</option>
                      <option value="RJ">Rio de Janeiro</option>
                      <option value="RN">Rio Grande do Norte</option>
                      <option value="RS">Rio Grande do Sul</option>
                      <option value="RO">Rondônia</option>
                      <option value="RR">Roraima</option>
                      <option value="SC">Santa Catarina</option>
                      <option value="SP">São Paulo</option>
                      <option value="SE">Sergipe</option>
                      <option value="TO">Tocantins</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">

                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">Município do Hospital</span>
                    </div>
                      <!--<input type="text" class="form-control form-control-sm" name="municipio_hospital" value="" id="mun_hosp_id" disabled>
                      -->
                      <select class="form-select" name="municipio_hospital" id="mun_hosp_id" disabled>
                        <option value="" selected><i></i></option>
                        {% for municipio in municipios %}
                        <option value="{{municipio.id}}">{{municipio.nome}}</option>
                        {% endfor %}
                      </select>
                    </div>
                  </div>
                  <div class="col">
                    <div class="input-group mb-3" id="">
                      <div class="input-group-prepend" id="">
                        <span class="input-group-text">Código IBGE</span>
                      </div>
                      <!--
                      <input type="text" class="form-control form-control-sm" name="codigo_ibge_municipio_hospitalizacao" value="" id="cod_ibge_id" disabled>
                    -->
                    <input type="text" class="form-control form-control-sm" name="codigo_ibge_municipio_hospitalizacao" id="cod_ibge_id" disabled readonly>
      
                    
                  </div>
                </div>      
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">Nome do Hospital</span>
                    </div>
                      <!--<input type="text" class="form-control form-control-sm" name="nome_hospital_hospitalizacao" value="" id="nome_hosp_id" disabled>
                      -->
                      <select class="form-select" name="nome_hospital_hospitalizacao" id="nome_hosp_id" disabled>
                        {% for unid_saude in unidades_saude %}
                        <option value="{{unid_saude.id}}">{{unid_saude.id}}</option>
                        {% endfor %}
                      </select>
                    </div>
                  </div>
      
                </div>
              </div>
    
              <!-- dados hospitalização outro -->
    
              <div class="row" id="dados_hospitalizacao_outro">
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">Outro Município de Internação</span>
                    </div>
                    <input type="text" class="form-control form-control-sm" name="municipio_hospital_outro" value="" id="outro_municipio_hospitalizacao">
                  </div>
                </div>
                           
    
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">Nome do Hospital</span>
                    </div>
                    <input type="text" class="form-control form-control-sm" name="nome_hospital_hospitalizacao_outro" value="" id="outro_hospital_hospitalizacao">
                  </div>
                </div>
              </div>

          </div>
        </div>


        </div>
        {% if user.funcao != 'padrao' %}
        <div id="menu6" class="container mb-4">
          <div class="card">
            <div class="card-header">CONCLUSÃO</div>            
            <div class="card-body">
              
              <div class="row">
                
                <div class="col">
                  <label for="classificacao" class="form-label m-0"><small><b>Classificação Final <a href="#" data-toggle="tooltip" data-placement="right" title="Obrigatório após 180 dias da notificação!">(*)</a></b></small></label>
                  <div class="radio-container mb-4" id="classificacao">
                    <input type="radio" class="custom-control-input" id="customRadio12" name="classificacao" value="Confirmado">
                    <label class="radio-label" for="customRadio12">Confirmado</label>
                    <input type="radio" class="custom-control-input" id="customRadio13" name="classificacao" value="Descartado">
                    <label class="radio-label" for="customRadio13">Descartado</label>              
                  </div>
                </div>

              </div>
              
              <div class="row">
                <div class="col">
                  <label for="criterio" class="form-label m-0"><small><b>Critério de Confirmação</b></small></label>
                  <div class="radio-container mb-4" id="criterio">
                    <input type="radio" class="custom-control-input" id="customRadio14" name="criterio" value="Clinico Laboratorial">
                    <label class="radio-label" for="customRadio14">Clínico Laboratorial</label>
                    <input type="radio" class="custom-control-input" id="customRadio15" name="criterio" value="Clinico Epidemiológico">
                    <label class="radio-label" for="customRadio15">Clínico Epidemiológico</label>
                  </div>
                </div>

              </div>              
              <div class="row mb-4">
                <div class="col">
                  <label for="autoctone" class="form-label m-0"><small><b>Caso Autóctone do Município de Residência</b></small></label>
                  <div class="radio-container mb-4" id="autoctone">
                    <input type="radio" class="custom-control-input" id="customRadio16" name="autoctone" value="Sim">
                    <label class="radio-label" for="customRadio16" onclick="activeInputsAutoctone()">Sim</label>
                    <input type="radio" class="custom-control-input" id="customRadio17" name="autoctone" value="Não">
                    <label class="radio-label" for="customRadio17" onclick="desactiveInputsAutoctone()">Não</label>
                    <input type="radio" class="custom-control-input" id="customRadio18" name="autoctone" value="Indeterminado">
                    <label class="radio-label" for="customRadio18" onclick="desactiveInputsAutoctone()">Indeterminado</label>       
                  </div>
                </div>
              </div>
              <div class="row">
                
                
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">UF</span>
                    </div>
                    <select class="form-select" name="uf_caso_autoctone_municipio" id="uf_caso_autoctone_id" disabled>
                      <option value="" selected></option>
                      {% for e in estados %}
                      <option value="{{e.id}}">{{e.nome}}</option>
                      {% endfor %}
                    </select>
                  </div>
                </div>
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">País</span>
                    </div>
                    <select class="form-select" name="pais_autoctone_municipio" id="pais_autoctone_id" disabled>
                      <option value="BRASIL" selected>BRASIL</option>
                      <option value="Outros">Outros</option>                          
                    </select>
                  </div>
                </div>

              </div>
              <div class="row">
                
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">Município</span>
                    </div>
                    <!--<input type="text" class="form-control form-control-sm" name="municipio_autoctone" value="" id="municipio_autoctone_id">
                    -->

                    <select class="form-select" name="municipio_autoctone" id="municipio_autoctone_id" disabled>                          
                    </select>


                  </div>
                </div>
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">Código IBGE</span>
                    </div>                                           
                    <select class="form-select" name="ibge_autoctone" name="" id="ibge_autoctone_id" disabled></select>
                  </div>
                </div>
                <div class="col">
                  <div class="input-group mb-3" id="">
                    <div class="input-group-prepend" id="">
                      <span class="input-group-text">Distrito</span>
                    </div>
                    <!--
                    <input type="text" class="form-control form-control-sm" name="distrito_autoctone" value="" id="">
                  -->
                  <select class="form-select" name="ibge_autoctone" name="" id="distrito_autoctone_id" disabled></select>
                </div>
              </div>
            </div>
            
            <div class="row">
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Bairro</span>
                  </div>
                  <input type="text" class="form-control form-control-sm" name="bairro_autoctone" value="" id="bairro_autoctone_id" disabled>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Área Provável de Infecção</span>
                  </div>
                  <select class="form-select" name="area_provavel_infeccao" id="area_provavel_infeccao_autoctone_id" disabled>
                    <option value=""></option>
                    <option value="Periurbano">Periurbano</option>
                    <option value="Rural">Rural</option>
                    <option value="Urbana">Urbana</option>
                    <option value="Ignorado">Ignorado</option>
                  </select>
                </div>
              </div>
              
            </div>
            
            <div class="row">
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Ambiente da Infecção</span>
                  </div>
                  <select class="form-select" name="ambiente_infeccao_autoctone" id="ambiente_infeccao_autoctone_id" disabled>
                    <option value=""></option>
                    <option value="Domiciliar">Domiciliar</option>
                    <option value="Trabalho">Trabalho</option>
                    <option value="Lazer">Lazer</option>
                    <option value="Outro">Outro</option>
                    <option value="Ignorado">Ignorado</option>
                  </select>
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Doença Relacionada ao Trabalho</span>
                  </div>
                  <select class="form-select" name="doenca_rel_trabalho_autoctone" id="doenca_rel_trabalho_autoctone_id" disabled>
                    <option value=""></option>
                    <option value="Sim">Sim</option>
                    <option value="Não">Não</option>
                    <option value="Ignorado">Ignorado</option>
                  </select>
                </div>
              </div>
              
            </div>
            
            <div class="row">
              <div class="col-sm-12">
                <div class="alert alert-secondary" style="text-align: center;">
                  <strong style="align-items: center;">Evolução do Caso</strong>
                </div>
              </div>
            </div>
            
            <div class="row evo-caso">
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Evolução do Caso<span class="required-evolucao" style="color: red;">**</span></span>
                  </div>
                  <select class="form-select" name="evolucao_caso_autoctone" id="sel_evo_caso" onclick="activeDataEvoCaso()">
                    <option value="" selected disabled>Selecionar</option>
                    <option value="Cura">Cura</option>
                    <option value="Óbito pelo AGRAVO">Óbito pelo AGRAVO</option>
                    <option value="Óbito Outras Causas">Óbito Outras Causas</option>
                    <option value="Ignorado">Ignorado</option>
                  </select>
                </div>
              </div>
              <div class="col" id="div_input_data_ob">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend">
                    <span class="input-group-text">Data do Óbito<span class="required-evolucao" style="color: red;">**</span></span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_obito" value="" id="data_obito_evo_id">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-4" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Data Encerramento<span class="required-evolucao" style="color: red;">**</span></span>
                  </div>
                  <input type="date" class="form-control form-control-sm" name="data_encerramento" value="" id="data_encerramento_id">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="input-group mb-3 col-4" id="">
                <div class="input-group-prepend" id="">
                  <span class="input-group-text">Status do Caso</span>
                </div>
                <select class="form-select" name="status_caso" id="status_caso" onclick="activeDataEvoCaso()">
                  <option value="" selected disabled>Selecionar</option>
                  <option value="Notificado">Notificado</option>
                  <option value="Em Análise">Em Análise</option>
                  <option value="Evoluído">Evoluído</option>
                  <option value="Confirmado">Confirmado</option>
                  <option value="Concluído">Concluído</option>
                </select>
              </div>
            </div>
            {% endif %}

              <style>
                #div_input_data_ob,
                #data_obito_evo_id {
                  display: none;
                }
              </style>
              <script>
                $('.required-evolucao').hide()
                data_encerramento_id.max = new Date().toISOString().split("T")[0];
                data_obito_evo_id.max = new Date().toISOString().split("T")[0];
                $('#data_investigacao_id').change(function() {
                  data_obito_evo_id.min = this.value
                  data_encerramento_id.min = this.value
                  let data_investigacao = new Date(this.value)
                  let data_atual = new Date()
                  let dias = parseInt(Math.abs(data_atual-data_investigacao)/(1000*3600*24));
                  if (dias >= 180) {
                    $('.required-evolucao').show()
                    $('.evo-caso input').prop('required', true)
                  }
                });
              
                function activeDataEvoCaso(){
                  if (document.getElementById("sel_evo_caso").value == "Óbito pelo AGRAVO"){
                    //$("#data_obito_evolucao_id").show();
                    $("#data_obito_evo_id").show();
                    $("#div_input_data_ob").show();
                  }
                  if (document.getElementById("sel_evo_caso").value == "Óbito Outras Causas"){
                    //$("#data_obito_evolucao_id").show();
                    $("#data_obito_evo_id").show();
                    $("#div_input_data_ob").show();
                  }
                  if (document.getElementById("sel_evo_caso").value == "Cura"){
                    $("#div_input_data_ob").hide();
                    $("#data_obito_evo_id").hide();
                    $("#data_obito_evo_id").val("");
                  }
                  if (document.getElementById("sel_evo_caso").value == "Ignorado"){
                    $("#div_input_data_ob").hide();
                    $("#data_obito_evo_id").hide();
                    $("#data_obito_evo_id").val("");
                  }
                };


                function activeOutroHospital(){
                  if (document.getElementById("sel_uf_t").value != "PB"){
                    $("#dados_hospitalizacao_outro").show();
                    $("#mun_hosp_id").val("");
                    $("#cod_ibge_id").val("");
                    $("#nome_hosp_id").val("");

                    $("#mun_hosp_id").prop("disabled", true);
                    $("#cod_ibge_id").prop("disabled", true);
                    $("#nome_hosp_id").prop("disabled", true);
                  }

                  if (document.getElementById("sel_uf_t").value == "PB"){
                    $("#dados_hospitalizacao_outro").hide();
                    $("#outro_municipio_hospitalizacao").val("");
                    $("#outro_ibge_hospitalizacao").val("");
                    $("#outro_hospital_hospitalizacao").val("");

                    $("#mun_hosp_id").prop("disabled", false);
                    $("#cod_ibge_id").prop("disabled", false);
                    $("#nome_hosp_id").prop("disabled", false);
                  }

                  if (document.getElementById("sel_uf_t").value == ""){
                    $("#dados_hospitalizacao_outro").hide();
                    $("#outro_municipio_hospitalizacao").val("");
                    $("#outro_ibge_hospitalizacao").val("");
                    $("#outro_hospital_hospitalizacao").val("");

                    $("#mun_hosp_id").prop("disabled", false);
                    $("#cod_ibge_id").prop("disabled", false);
                    $("#nome_hosp_id").prop("disabled", false);
                  }
                };
              </script>
            
            </div>
          </div>

      </div>
      <div id="menu7" class="container mb-4">
        <div class="card">
          <div class="card-header">OBSERVAÇÃO</div>          
          <div class="card-body">
            <div class="row">
              
              <div class="col">
                <div class="form-group">
                  <label for="comment">Comentário, observações e/ou anotações:</label>
                  <textarea class="form-control form-control-sm" rows="5" id="comment" name="observacao"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <script>

      </script>

      <script>
        function maiuscula(z){
          var v = z.target.selectionStart;
          var s = z.target.selectionEnd;
          z.target.value = z.target.value.toUpperCase();
          z.target.selectionStart = v;
          z.target.selectionEnd = s;
        }
      </script>

      <div id="menu8" class="container mb-4">
        <div class="card">
          <div class="card-header">INVESTIGADOR</div>
          <span id="alert_investigador"></span>
          <div class="card-body">
            <div class="row">
              
              <div class="col">                    
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Nome
                      <i id="alert_investigador_nome" style="color:red">**</i>
                    </span>
                  </div>
                  <input type="text" class="form-control form-control-sm" placeholder="Sem abreviações" name="nome_investigador" value="" id="nome_investigador_id" onkeydown="verificarInvestigador()" onkeypress="return limitcarc(event, 'letr')" onkeyup="maiuscula(event)">
                </div>
              </div>
    
              
            </div>
            <div class="row">
              
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Função</span>
                  </div>
                  <input type="text" onkeypress="return limitcarc(event, 'letr')" class="form-control form-control-sm" name="funcao_investigador" value="" id="">
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Email
                      <i id="alert_investigador_email" style="color:red">**</i>
                    </span>
                  </div>
                  <input type="text" class="form-control form-control-sm" placeholder="exemplo@exemplo.com.br" name="email_investigador" value="" id="email_investigador_id" onkeyup="verificarInvestigador()">
                </div>
              </div>                 
              
            </div>
            <div class="row">
              
              
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Telefone
                      <i id="alert_investigador_telefone" style="color:red">**</i>
                    </span>
                  </div>
                  <input type="text" class="form-control form-control-sm" id="telefone_investigador_id" name="telefone_investigador" placeholder="(00)00000-0000" onkeyup="verificarInvestigador()">
    
                </div>
              </div>
              <div class="col">
                <div class="input-group mb-3" id="">
                  <div class="input-group-prepend" id="">
                    <span class="input-group-text">Conselho Classe</span>
                  </div>
                  <input type="text" class="form-control form-control-sm" name="conselho_classe_investigador" value="" id="">
                </div>
              </div>                                 
              
            </div>

          </div>
        </div>
      </div>

      <div class="container-fluid" style="text-align: center;">
        <button type="submit" class="btn btn-primary" style="align-items: center;" id="btn_submit_id" disabled>Salvar</button>  
      </div>
    </div>

  </form>

  <!-- Mascaras de inputs -->
  <script>
    $(document).ready(function($){
      $("#telefone_residencia_id").mask("(00)00000-0000");
      $("#telefone_investigador_id").mask("(00)00000-0000");
      $("#outro_ibge_hospitalizacao").mask("00000000000000");
      $("#cep").mask("00000-000");
      $("#numero_residencia").mask("0000/AA");
      $("#uf").mask("AA")
    });
  </script>

  <!-- Ao alterar a data dos primeiros sintomas, limpa o campo de data notificacao e data investigacao. -->
  <script>
    $('#dt_primeiros_s').on('click', function(){
      $('#datanotificacao').val("");
      $('#data_investigacao_id').val("");
    });
    verificarNotifGeral();
  </script>
  
  <!-- Scrip abaixo bloqueia envio formulário com ENTER -->
  <script>
    $(document).ready(function () {
      $("#btn_gal_id_1").hide();
      $("#btn_gal_id_2").hide();
      $("#btn_gal_id_3").hide();
     $('input').keypress(function (e) {
      var code = null;
      code = (e.keyCode ? e.keyCode : e.which);                
      return (code == 13) ? false : true;
    });
   });
 </script>
 <!-- Obrigatoriedade de nome, email e telefone do investigador -->
 <script>
  function verificarInvestigador(){
    var nome_investigador = $('#nome_investigador_id').val();
    var email_investigador = $('#email_investigador_id').val();
    var telefone_investigador = $('#telefone_investigador_id').val();
    
    // Variável 're' serve para testar se um email é valido
    var re = /\S+@\S+\.\S+/;
    // Testando se o campo email é válido e armazenando a resposta (false ou true) na variável 'email_valid'
    var email_valid = re.test(email_investigador);            
    
    if (nome_investigador.length > 10) {$('#alert_investigador_nome').prop('hidden', true)} else {$('#alert_investigador_nome').prop('hidden', false)};            
    if (telefone_investigador.length >= 13) {$('#alert_investigador_telefone').prop('hidden', true)} else {$('#alert_investigador_telefone').prop('hidden', false)};            
    if (email_valid == true) {$('#alert_investigador_email').prop('hidden', true)} else {$('#alert_investigador_email').prop('hidden', false); email_valid = false;};

    if (
      ($('#alert_investigador_nome').prop('hidden') == true) &&
      ($('#alert_investigador_email').prop('hidden') == true) &&
      ($('#alert_investigador_telefone').prop('hidden') == true) 
    ) {
      $('#alert_investigador').prop('hidden', true)
    } else {
      $('#alert_investigador').prop('hidden', false)
    }
    verificarNotifGeral()
  }
 </script>
 
<script>
  function clear_select_uc() {
    $("#select_uc_id").val("");
}

$(function() {
    $("#select_uc_id option").hide();
    $("#select_municipio_uc_id").on("change", function() {
        let municipio_uc = $("#select_municipio_uc_id").val();
        $("#select_uc_id option").hide();
        $("#select_uc_id option[data-uc=" + municipio_uc + "]").show();
    });
});

function activeInputsAutoctone() {
    $("#uf_caso_autoctone_id").prop("disabled", false);
    $("#pais_autoctone_id").prop("disabled", false);
    $("#municipio_autoctone_id").prop("disabled", false);
    $("#ibge_autoctone_id").prop("disabled", false);
    $("#distrito_autoctone_id").prop("disabled", false);
    $("#bairro_autoctone_id").prop("disabled", false);
    $("#area_provavel_infeccao_autoctone_id").prop("disabled", false);
    $("#ambiente_infeccao_autoctone_id").prop("disabled", false);
    $("#doenca_rel_trabalho_autoctone_id").prop("disabled", false);

}

function desactiveInputsAutoctone() {
    $("#uf_caso_autoctone_id").prop("disabled", true);
    $("#pais_autoctone_id").prop("disabled", true);
    $("#municipio_autoctone_id").prop("disabled", true);
    $("#ibge_autoctone_id").prop("disabled", true);
    $("#distrito_autoctone_id").prop("disabled", true);
    $("#bairro_autoctone_id").prop("disabled", true);
    $("#area_provavel_infeccao_autoctone_id").prop("disabled", true);
    $("#ambiente_infeccao_autoctone_id").prop("disabled", true);
    $("#doenca_rel_trabalho_autoctone_id").prop("disabled", true);

    $("#uf_caso_autoctone_id").val("");
    $("#pais_autoctone_id").val("");
    $("#municipio_autoctone_id").val("");
    $("#ibge_autoctone_id").val("");
    $("#distrito_autoctone_id").val("");
    $("#bairro_autoctone_id").val("");
    $("#area_provavel_infeccao_autoctone_id").val("");
    $("#ambiente_infeccao_autoctone_id").val("");
    $("#doenca_rel_trabalho_autoctone_id").val("");
}

function validaDtPrimeirosSintomas() {
    if (document.Form.dt_primeiros_s.value == "") {
        document.getElementById('alert_dt_ps').style.display = "inline";
        document.getElementById('alert_dados_gerais').style.display = "inline";
        document.getElementById('alert_notificacao_individual').style.display = "inline";
        document.getElementById('alert_data_invest').style.display = "inline";
        document.getElementById('alert_data_nasc').style.display = "inline";
        document.getElementById('alert_nome_mae').style.display = "inline";
        document.getElementById('alert_dados_residencia').style.display = "inline";
        document.getElementById('alert_telefone_paciente').style.display = "inline";


        alert("Campo obrigatorio!");
        return false;
    } else {
        document.getElementById('alert_dt_ps').style.display = "none";
        return true;
    }

} // FIM AJAX CEP

function activeGestante() {
    verificarNotifGeral()
    var genero = document.getElementById('span_id').value;    
    let idade = document.getElementById('result').value;


    let optionsGestante = [
      "",
      "1º Trimestre",
      "2º Trimestre",
      "3º Trimestre",
      "Idade Gestacional Ignorada",
      "Ignorado",
      "Não"
    ]
    if ((idade <= 10 || idade >= 50) && (genero != "M") && (genero != "")) {
      $('#gestante_id')[0].setDisabledOptions(optionsGestante)
      $('#gestante_id')[0].setValue('Não se aplica')

    } else if ((idade > 10 && idade < 50) || (genero != "M")) {
      $('#gestante_id')[0].setDisabledOptions(false)
      $('#gestante_id')[0].reset()  
    }

    let optionsEscolaridade = [
      '', 
      'Analfabeto', 
      '1ª-a-4ª-serie-incompleto',
      '4ª-serie-completa',
      '5ª-a-8ª-serie-incompleto',
      'Ensido-Fundamental-Completo',
      'Ensino-Medio-incompleto',
      'Ensino-Medio-Completo',
      'Superior-Incompleto',
      'Superior-completo'
    ]
    if (idade <= 3) {
      
      $('#escolaridade')[0].setDisabledOptions(optionsEscolaridade)
      $('#escolaridade')[0].setValue('Nao-se-aplica')        

    } else if (idade > 3) {
      $('#escolaridade')[0].setDisabledOptions(false)
      $('#escolaridade')[0].reset()        
    }

    if (genero == "F") {
        $("#gestante_id").attr("disabled", false);
    }
    if (genero == "Ignorado") {
        $("#gestante_id").attr("disabled", false);
    }
    if (genero == "M") {
        $("#gestante_id").attr("disabled", true);
        $("#gestante_id")[0].reset();
    }
}

function activeOutraUnidade() {
    $("#outra_unidade_id").prop("disabled", false);
    $("#btn_desfaz_outra_unidade_id").prop("disabled", false);
}

function desactiveOutraUnidade() {
    $("#outra_unidade_id").prop("disabled", true);
    $("#outra_unidade_id").val("");
}

$("#municipio_id").change(function() {
    //const url = $('#Form').attr("data-unidadesaude-url");
    municipioId = $(this).val();

    $.ajax({
        url: '/esp-hum/ajax_load_unidadesaude',
        data: { 'municipio_id': municipioId },
        success: function(data) {
            $("#unidade_saude_id").html(data);
        }
    });


});

$("#municipio_id").change(function() {
    //const url = $('#Form').attr("data-ibge-url");
    const municipioId = $(this).val();
    $.ajax({
        url: '/esp-hum/ajax_load_ibge',
        data: { 'municipio_id': municipioId },
        success: function(data) {
            $("#ibge_cod_id").val(data);
        }
    });

});

//ajax para selects de hospitalização:
//mun_hosp_id
//cod_ibge_id
//nome_hosp_id

//data-hospitalizacao-url
//data-hospitalizacaoibge-url

$("#mun_hosp_id").change(function() {
    //const url = $('#Form').attr("data-hospitalizacao-url");
    municipioId = $(this).val();

    $.ajax({
        url: '/esp-hum/ajax_hospitalizacao',
        data: { 'municipio_id': municipioId },
        success: function(data) {
            $("#nome_hosp_id").html(data);
        }
    });


});

$("#mun_hosp_id").change(function() {
    //const url = $('#Form').attr("data-hospitalizacaoibge-url");
    const municipioId = $(this).val();
    $.ajax({
        url: '/esp-hum/ajax_hospitalizacao_ibge',
        data: { 'municipio_id': municipioId },
        success: function(data) {
            $("#cod_ibge_id").val(data);
        }
    });

});

//Ajax para caso autoctone: Estado, Municipio, Cód IBGE e Distrito.
$("#uf_caso_autoctone_id").change(function() {
    //const url = $('#Form').attr("data-autoctone-uf-url");
    municipioId = $(this).val();

    $.ajax({
        url: '/esp-hum/ajax_autoctone_uf',
        data: { 'municipio_id': municipioId },
        success: function(data) {
            $("#municipio_autoctone_id").html(data);
        }
    });


});

$("#municipio_autoctone_id").change(function() {
    //const url = $('#Form').attr("data-autoctone-municipio-url");
    municipioId = $(this).val();

    $.ajax({
        url: '/esp-hum/ajax_autoctone_municipio',
        data: { 'municipio_id': municipioId },
        success: function(data) {
            
            $("#ibge_autoctone_id").html(data);
        }
    });


});

$("#municipio_autoctone_id").change(function() {
    //const url = $('#Form').attr("data-autoctone-distrito-url");
    municipioId = $(this).val();

    $.ajax({
        url: '/esp-hum/ajax_autoctone_distrito',
        data: { 'municipio_id': municipioId },
        success: function(data) {
            
            $("#distrito_autoctone_id").html(data);
        }
    });


});

//ajax para endereço: estado e cidades
$(document).ready(function(){
  $('#municipios_estado_id').val() ? $('#alert_municipio_residencia').hide() : $('#alert_municipio_residencia').show()

  document.querySelector('#uf_dados_residencia_id').addEventListener('change', function() {
      //const url = $('#Form').attr("data-autoctone-distrito-url");
      municipioId = $(this).val();
      $.ajax({
          url: '/esp-hum/ajax_dados_residencia',
          data: { 'uf_dados_residencia_id': municipioId },
          success: function(data) {
              let municipioOptions = []
              let dt = data.split('</option>')
              for (i=0; i<dt.length; i++){
                let value = dt[i].split('>')[0].split('=')[1]
                let label = dt[i].split('>')[1]
                
                if (value){
                  value = JSON.parse(value)
                  municipioOptions.push({"label":label, "value":value})                                
                }
                
              }
              $("#municipios_estado_id")[0].setOptions(municipioOptions)
          }
      });
      verificarNotifGeral()
  });
  //Ajax para autoprencher o código ibge se alterar município
  document.querySelector('#municipios_estado_id').addEventListener('change', function() {
  
      municipioId = $(this).val();
      
      uf_id = $('#uf_dados_residencia_id').val();
      if (municipioId){
        $.ajax({
            url: '/esp-hum/ajax_ibge_municipio_residencia',
            data: { 'municipios_estado_id': municipioId, 'uf_estado_id': uf_id },
            success: function(data) {
                $("#ibge_municipio_residencia_id").val(data);
            }
        });
      }  

      municipioId ? $('#alert_municipio_residencia').hide() : $('#alert_municipio_residencia').show()
      verificarNotifGeral()
  });
})

</script>
<script src="{% static 'base/js/virtual-select.min.js' %}"></script>

<script>
  // Select de funções
  VirtualSelect.init({
    ele: '.select-model',
    disableValidation: true,
    searchPlaceholderText: "Procurar",
    noSearchResultsText: "Nenhum item encontrado",
    allOptionsSelectedText: "Todos os itens selecionados"
  });
  // Scroll UP Button
  window.addEventListener('scroll', function() {
    scrollBtn = $('.backTop')
    return window.scrollY > 300 ? scrollBtn.removeClass('d-none') : scrollBtn.addClass('d-none')  
  })
  $('#raca').on('change', function(){
    this.value ? $('#alert_raca').hide() : $('#alert_raca').show()
    return verificarNotifGeral()
  })
</script>

</div>
{% endblock content %}